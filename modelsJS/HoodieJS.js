import { Configuration, OpenAIApi } from "openai";
import React, { useRef } from 'react'
import { useGLTF, useTexture } from '@react-three/drei'
import * as THREE from "three";

export default function Hoodie({ ...props }) {
  async function getImage(){
    console.log("start")
    const configuration = new Configuration({
        organization: "org-zqqaMelg6ZFIC4fh0CKtSamP",
        apiKey: "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",
    });
    const openai = new OpenAIApi(configuration);
    console.log("configured OpenApi");
    const response = await openai.createImage({
        prompt: "a white siamese cat",
        n: 1,
        size: "512x512",
      });

      image_url = response.data.data[0].url;
      console.log(image_url)
    return image_url;
}   
    getImage()
    const imgTexture = useTexture("data:image/jpeg;base64,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");
    imgTexture.wrapS = THREE.RepeatWrapping;
    imgTexture.repeat.x = - 1;
    const group = useRef()
    const { nodes, materials } = useGLTF('/Hoodie.glb')

  return (
    <group ref={group} {...props} dispose={null}>
      <mesh geometry={nodes.test005.geometry} material={materials['lambert1.001']} position={[0, 0, 0]} rotation={[Math.PI / 2, 0, 0]} material-color= "#000000" />
      <mesh geometry={nodes.Plane005.geometry} material={nodes.Plane005.material} position={[0, 0.4, 0.12]} rotation={[-Math.PI / 2, 0, Math.PI]} material-map={imgTexture}/>
    </group>
  )
}

useGLTF.preload('/Hoodie.glb')
